<!doctype html>
<html ng-app='app'>
<head>
    <meta charset='utf-8' />
    <title>Feed Store</title>
    <link rel='stylesheet' type='text/css' href='bootstrap.min.css'></link> 
    <link rel="stylesheet" type="text/css" href="style.css"></link> 
    <script src='jquery-1.11.3.min.js' type='text/javascript'></script>    
    <script type='text/javascript' src='angular.min.js'></script>
    <script type='text/javascript' src='controller.js'></script>
    
</head>
<body ng-controller='controller'> 
    
    <div id='left'>

        <form class='addFeed form-inline' ng-submit='addFeed()'>
            <input type='text' ng-model='formurl' />
            <input type='submit' value='Add' />
        </form>
            
        <ul class='feed-menu'>
            <li ng-repeat='feed in feeds' class='feed-menu-item'>
                <span>{{ feed.title }}</span>

                <ul class='post-menu'>
                    <li ng-class="post.read ? 'read' : 'unread'" ng-repeat='post in feed.entries' class='post-menu-item'>
                        <span><a ng-click='readPost(feed, post)'>{{ post.title }}</a></span>
                    </li>
                </ul>
            </li>
        </ul>

    </div>
    
    <div id='right' ng-show='currentFeed'>
        <h3>{{ currentFeed.title }} 
            <a ng-click='updateFeed(currentFeed)' style='font-size: 0.7em'>update feed</a></h3>

        <div ng-show='currentPost'>
            <h4>{{currentPost.title}}</h4>
            <div ng-bind-html='currentPost.content | to_trusted'></div>
            <div class='postFooter'><a href='{{currentPost.link}}'>{{ currentPost.link }}</a></div>
        </div>

    </div>
<script type="text/javascript">
	var hidemenus = function () {
        //alert('@');
		$('.post-menu').hide();
		$('.feed-menu-item').click(function () {
			$('.post-menu').hide();
			$(this).children('.post-menu').show();
		});
	};
    
    setTimeout(hidemenus, 1500);
</script>
</body>
</html>
